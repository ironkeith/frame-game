(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t,e,n){t.exports=n.p+"static/media/hieee.74b2390c.png"},function(t,e,n){t.exports=n.p+"static/media/yay.973afd96.png"},function(t,e,n){t.exports=n(22)},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){t.exports=n.p+"static/media/ow.31a79875.png"},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(7),o=n.n(r),s=(n(16),n(1)),c=n(2),u=n(4),l=n(3),m=n(5),h=(n(17),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.onNameChange,a=t.onStart;return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"Frame Game"),i.a.createElement("p",null,"Each game is five rounds. Click the bear as fast as you can, but watch out\u2014the frame rate for this game is a little unusual."),i.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Your Name"),i.a.createElement("input",{id:"name",type:"text",placeholder:"Enter your name",value:e,onChange:function(t){return n(t.target.value)}}),i.a.createElement("button",{onClick:a},"Play Now!"))}}]),e}(a.Component)),p=(n(18),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={timeRemaining:3},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.onComplete;this.timerID=setInterval(function(){t.setState(function(n){var a=n.timeRemaining-1;return 0===a&&(e(),clearInterval(t.timerID)),{timeRemaining:a}})},1e3)}},{key:"render",value:function(){var t=this.state.timeRemaining;return i.a.createElement("h1",{className:"countdown_timer"},t)}}]),e}(a.Component)),v=function(t){return Math.random()*t},f=function(t){return Math.round(v(t))},d=function(){var t=function(){return Math.random()>.5?1:-1};return{vertical:t(),horizontal:t()}},y=function(t){function e(t){var n;Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).direction=null,n.virtualTickID=null,n.virtualTickDuration=15;var a=n.props.velocity;n.direction=d();var i={x:null,y:null},r=v(Math.PI/2),o=a/1e3*n.virtualTickDuration,c={dx:Math.cos(r)*o,dy:Math.sin(r)*o};return n.state={vectors:c,currentPosition:i,virtualPosition:Object.assign({},i)},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.virtualTickID=setInterval(function(){return t.recalculateVirtualPosition()},this.virtualTickDuration)}},{key:"componentWillUnmount",value:function(){clearInterval(this.virtualTickID)}},{key:"render",value:function(){var t=this;return(0,this.props.children)(this.state.currentPosition,function(){return t.reposition()},function(){return t.stop()})}},{key:"moveDown",value:function(t,e){var n=this.props.boundaries.height,a=t+e;return a>n&&(a=n-(a-n),this.reverseY()),a}},{key:"moveUp",value:function(t,e){var n=t-e;return n<-138&&(n=-138-n-138,this.reverseY()),n}},{key:"moveLeft",value:function(t,e){var n=t-e;return n<-165&&(n=-165-n-165,this.reverseX()),n}},{key:"moveRight",value:function(t,e){var n=this.props.boundaries.width,a=t+e;return a>n&&(a=n-(a-n),this.reverseX()),a}},{key:"recalculateVirtualPosition",value:function(){var t=this.props.boundaries,e=t.width,n=t.height,a=this.state,i=a.virtualPosition,r=i.x,o=i.y,s=a.vectors,c=s.dx,u=s.dy;null!==r&&null!==o||(r=f(e),o=f(n));var l=this.direction.horizontal>0?this.moveRight(r,c):this.moveLeft(r,c),m=this.direction.vertical>0?this.moveDown(o,u):this.moveUp(o,u);this.setState({virtualPosition:{x:l,y:m}})}},{key:"reposition",value:function(){this.setState({currentPosition:Object.assign({},this.state.virtualPosition)})}},{key:"reverseX",value:function(){this.direction.horizontal*=-1}},{key:"reverseY",value:function(){this.direction.vertical*=-1}},{key:"stop",value:function(){this.setState({vectors:{dx:0,dy:0}}),this.props.onStop()}}]),e}(a.Component),b=(n(19),n(8)),g=n.n(b),k=(n(20),n(9)),j=n.n(k),O=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isHit,n=t.position,a=n.x,r=n.y,o=t.onClick,s={left:"".concat(a,"px"),top:"".concat(r,"px")};return i.a.createElement("div",{className:"target",style:s,onPointerDown:o},i.a.createElement("img",{src:e?j.a:g.a,alt:"click me!",className:e?"target_img--hit":""}))}}]),e}(a.Component),w=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.children;return i.a.createElement("div",null,t)}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(t){this.props.fps!==t.fps&&this.startTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"startTimer",value:function(){var t=this.props,e=t.fps,n=t.onTick,a=1e3/e;this.timerId=setInterval(function(){return n()},a)}}]),e}(a.Component),S=(n(21),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={dimensions:{width:0,height:0}},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setStageSize(),this.resizeWrapper=function(){return t.setStageSize()},window.addEventListener("resize",this.resizeWrapper())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeWrapper())}},{key:"render",value:function(){var t=this.props,e=t.targetHit,n=t.fps,a=t.velocity,r=t.onHit,o=t.onMiss,s=this.state.dimensions;return i.a.createElement("div",{className:"stage",onClick:o},i.a.createElement(y,{boundaries:s,velocity:a,onStop:r},function(t,a,r){return i.a.createElement(w,{onTick:a,fps:n},i.a.createElement(O,{isHit:e,position:t,onClick:r}))}))}},{key:"setStageSize",value:function(){var t=window,e=t.innerWidth,n=t.innerHeight;this.setState({dimensions:{width:e,height:n}})}}]),e}(a.Component)),E=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).handleFocus=function(t){return t.target.select()},n.assembleScores=function(t){var e=n.props.name;return t.map(function(t){var n=t.started,a=t.ended,i=t.misses,r=t.params.fps;return'"'.concat(e,'",').concat(r,",").concat(n,",").concat(a,",").concat(a-n,",").concat(i)}).join("\n")},n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.scores,n=t.onRestart,a=this.assembleScores(e);return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"You did it!"),i.a.createElement("p",null,"Please copy and share your score data"),i.a.createElement("textarea",{rows:"10",onFocus:this.handleFocus,value:a}),i.a.createElement("button",{onClick:n},"Play Again"))}}]),e}(a.Component),C="playing",x="roundComplete",D={gameState:"ready",gameplayFPS:60,gameplayVelocity:600,name:"",round:{number:0,started:0,ended:0,misses:0,params:{fps:60}},scores:[]},I=[{fps:30},{fps:8},{fps:15},{fps:2},{fps:60}],P=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).state=Object.assign({},D),n}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.gameState,a=e.gameplayVelocity,r=e.name,o=e.round.params.fps,s=e.scores;return"ready"===n?i.a.createElement(h,{onNameChange:function(e){return t.setName(e)},onStart:function(){return t.start()}}):"countdown"===n?i.a.createElement(p,{onComplete:function(){return t.countdownComplete()}}):[C,x].includes(n)?i.a.createElement(S,{fps:o,targetHit:n!==C,velocity:a,onMiss:function(){return t.miss()},onHit:function(){return t.hit()}}):i.a.createElement(E,{name:r,scores:s,onRestart:function(){return t.restart()}})}},{key:"countdownComplete",value:function(){this.setState(function(t){return{gameState:C,round:Object.assign({},t.round,{started:Date.now()})}})}},{key:"hit",value:function(){var t=this;this.setState(function(t){return{gameState:x,scores:t.scores.concat(Object.assign({},t.round,{ended:Date.now()}))}}),setTimeout(function(){return t.nextRound()},2e3)}},{key:"miss",value:function(){this.setState(function(t){return{round:Object.assign({},t.round,{misses:t.round.misses+1})}})}},{key:"restart",value:function(){var t=this.state.name;this.setState(Object.assign({},D,{name:t}))}},{key:"start",value:function(){this.nextRound()}},{key:"setName",value:function(t){this.setState({name:t})}},{key:"done",value:function(){this.setState({gameState:"gameComplete"})}},{key:"nextRound",value:function(){var t=this.state.round.number,e=I[t];if(++t>I.length)return this.done();this.setState(function(n){return{round:Object.assign({},n.round,{misses:0,number:t,params:{fps:e.fps}})}}),this.startCountdown()}},{key:"startCountdown",value:function(){this.setState({gameState:"countdown"})}}]),e}(a.Component),N=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(P,null))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.43aea99c.chunk.js.map